(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{28:function(e,t,n){e.exports=n(40)},37:function(e,t,n){},40:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(16),o=n.n(c),l=n(12),u=(n(37),n(14)),i=n(18);var s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_WORDS":return[].concat(Object(i.a)(e),[t.data]);default:return e}};var d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_CLOUD":return[].concat(Object(i.a)(e),[t.data]);default:return e}},m=Object(u.b)({words:s,clouds:d}),f=Object(u.c)(m),p=n(10),v=n(9);var b=function(){return r.a.createElement("div",null,r.a.createElement("section",{className:"main-info"},r.a.createElement("h3",null,"Velkommen til ordsky.no!"),r.a.createElement("p",null,"Her kan du lage en ordsky ved \xe5 lime inn en eller flere tekster.")),r.a.createElement("section",{style:{display:"flex",justifyContent:"center"}},r.a.createElement(p.b,{to:"/text",className:"button"},"Lag en ordsky")))},y=n(15),g=n(27),h=function(e){var t=document.createElement("canvas"),n=t.getContext("2d");t.height=500,t.width=500;var a=new Image;a.onload=function(){n.drawImage(a,0,0),function(e){var t=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!0}),n=document.createElement("a");n.setAttribute("download","ordsky.png"),n.setAttribute("href",e),n.setAttribute("target","_blank"),n.dispatchEvent(t)}(t.toDataURL())},a.src=e};var E=Object(l.b)(function(e){var t=e.clouds;return{cloud:t[t.length-1]}})(function(e){var t=e.cloud,n=e.toggleDisplay,a=function(e){var t=(new XMLSerializer).serializeToString(e);return"data:image/svg+xml,".concat(encodeURIComponent(t))}(function(e){var t=document.createElement("div");return Object(g.a)(t).append("svg").attr("width",500).attr("height",500).append("g").attr("transform","translate(".concat(250,",").concat(250,")")).selectAll("text").data(e).enter().append("text").style("font-size",function(e){return"".concat(e.size,"px")}).style("font-family","Impact").style("fill",function(e){return e.fill}).attr("text-anchor","middle").attr("transform",function(e){return"translate(".concat([e.x,e.y],")rotate(").concat(e.rotate,")")}).text(function(e){return e.text}),t.firstChild}(t));return r.a.createElement("div",null,r.a.createElement("div",{id:"cloud",style:{height:510,width:510}},r.a.createElement("img",{src:a,alt:"ordsky"})),r.a.createElement("div",{style:{margin:"auto",display:"flex",justifyContent:"center"}},r.a.createElement("button",{type:"button",onClick:function(){return h(a)},className:"button btn-download"},"Last ned som png"),r.a.createElement("button",{type:"button",onClick:n,className:"button"},"Ny ordsky")))}),k=n(8),w=n.n(k),x=n(11),O="/api/words";function j(){return(j=Object(x.a)(w.a.mark(function e(t){var n,a;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)},e.next=3,fetch(O,n);case 3:if((a=e.sent).ok){e.next=6;break}throw new Error(a.status);case 6:return e.abrupt("return",a.json());case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}var D=function(e){return j.apply(this,arguments)},C="/api/cloud";function S(){return(S=Object(x.a)(w.a.mark(function e(t){var n,a;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)},e.next=3,fetch(C,n);case 3:if((a=e.sent).ok){e.next=6;break}throw new Error(a.status);case 6:return e.abrupt("return",a.json());case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}var N=function(e){return S.apply(this,arguments)};function T(e,t){t.disabled=!0;var n='<span class="loader"></span>\n    '.concat(e,"\n    ");t.innerHTML=n}function L(e){e.innerHTML="Generer ordsky",e.disabled=!1}var A={addWords:function(e){return{type:"ADD_WORDS",data:e}},addCloud:function(e){return{type:"ADD_CLOUD",data:e}}},I=Object(l.b)(null,A)(function(e){var t=Object(a.useState)(""),n=Object(y.a)(t,2),c=n[0],o=n[1],l=Object(a.useState)(""),u=Object(y.a)(l,2),i=u[0],s=u[1],d=document.querySelector("#klikk-meg"),m=function(){var t=Object(x.a)(w.a.mark(function t(n){var a,r;return w.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),c){t.next=4;break}return o=10,s("Du m\xe5 legge inn tekst f\xf8r du kan generere en ordsky."),setTimeout(function(){return s("")},1e3*o),t.abrupt("return");case 4:return t.prev=4,T("Teller ord...",d),t.next=8,D({text:c});case 8:return a=t.sent,e.addWords(a),T("Lager ordsky...",d),t.next=13,N({words:a});case 13:r=t.sent,e.addCloud(r),e.toggleDisplay(),L(d),t.next=25;break;case 19:t.prev=19,t.t0=t.catch(4),console.error(t.t0),s("Noe gikk galt, vennligst pr\xf8v igjen."),L(d),setTimeout(function(){return s("")},5e3);case 25:case"end":return t.stop()}var o},t,null,[[4,19]])}));return function(e){return t.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:m},r.a.createElement("textarea",{name:"text",className:"form-control",rows:"5",placeholder:"Lim inn tekst her",value:c,onChange:function(e){var t=e.target;o(t.value)}}),r.a.createElement("div",{className:"notification"},i||null),r.a.createElement("div",null,r.a.createElement("button",{type:"submit",id:"klikk-meg",className:"button"},"Generer ordsky"),r.a.createElement(p.b,{to:"/",className:"button btn-outline"},"Til forsiden"))))});var _=function(){var e=Object(a.useState)(!1),t=Object(y.a)(e,2),n=t[0],c=t[1],o=function(){return c(!n)};return r.a.createElement("div",null,n&&r.a.createElement(E,{toggleDisplay:o}),!n&&r.a.createElement(I,{toggleDisplay:o}))};var z=function(){return r.a.createElement("div",null,r.a.createElement("header",null,r.a.createElement("section",null,r.a.createElement("h1",null,"Ordsky.no"))),r.a.createElement("main",null,r.a.createElement(p.a,null,r.a.createElement(v.a,{exact:!0,path:"/",component:b}),r.a.createElement(v.a,{path:"/text",component:_}))),r.a.createElement("footer",null))};o.a.render(r.a.createElement(l.a,{store:f},r.a.createElement(z,null)),document.getElementById("root"))}},[[28,1,2]]]);
//# sourceMappingURL=main.57f7d473.chunk.js.map